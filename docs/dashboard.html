<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI íˆ¬ììœ„ì›íšŒ ë°ì´í„° ëŒ€ì‹œë³´ë“œ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; margin: 0; background:#0f172a; color:#e2e8f0; }
    .container { max-width: 1200px; margin: 0 auto; padding: 24px; }
    h1 { margin: 0 0 20px 0; }
    .cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-bottom:20px; }
    .card { background:#1e293b; border-radius:12px; padding:14px; }
    .card .label { font-size:12px; color:#94a3b8; }
    .card .value { margin-top:6px; font-size:24px; font-weight:700; }
    .chart-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .panel { background:#1e293b; border-radius:12px; padding:14px; }
    .panel h2 { margin-top:0; font-size:16px; }
    table { width:100%; border-collapse:collapse; font-size:13px; }
    th, td { border-bottom:1px solid #334155; padding:8px 6px; text-align:left; vertical-align:top; }
    .full { margin-top:16px; }
    .badge { display:inline-block; margin-left:8px; font-size:12px; color:#93c5fd; }
    .agent-table td ul { margin:6px 0 0 16px; padding:0; }
    .agent-table td li { margin-bottom:2px; }
    @media (max-width: 900px) { .chart-grid { grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“Š AI íˆ¬ììœ„ì›íšŒ ëˆ„ì  ë°ì´í„° ëŒ€ì‹œë³´ë“œ</h1>
    <div class="cards" id="summary-cards"></div>

    <div class="chart-grid">
      <div class="panel">
        <h2>ì£¼ìš” ì§€ìˆ˜ ì¼ê°„ ë³€í™”ìœ¨ (%)</h2>
        <canvas id="marketChart"></canvas>
      </div>
      <div class="panel">
        <h2>ê±°ì‹œ ì§€í‘œ (VIX / USDKRW)</h2>
        <canvas id="macroChart"></canvas>
      </div>
      <div class="panel">
        <h2>ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ì¶”ì´</h2>
        <canvas id="flowChart"></canvas>
      </div>
      <div class="panel">
        <h2>ìœ„ì›íšŒ ìš´ì˜ ê°€ì´ë˜ìŠ¤ íšŸìˆ˜</h2>
        <canvas id="guidanceChart"></canvas>
      </div>
    </div>

    <div class="panel full">
      <h2>ìµœê·¼ íšŒì˜ í•©ì˜ ë‚´ì—­</h2>
      <table>
        <thead><tr><th>ë‚ ì§œ</th><th>Consensus</th><th>OK</th><th>CAUTION</th><th>AVOID</th></tr></thead>
        <tbody id="committeeTable"></tbody>
      </table>
    </div>

    <div class="panel full">
      <h2>ìµœê·¼ ì—ì´ì „íŠ¸ ì˜ê²¬ <span class="badge" id="stanceDate"></span></h2>
      <table class="agent-table">
        <thead><tr><th>Agent</th><th>Regime</th><th>Confidence</th><th>ì˜ê²¬</th><th>í•µì‹¬ ì£¼ì¥</th></tr></thead>
        <tbody id="stanceTable"></tbody>
      </table>
    </div>
  </div>

<script>
const data = {"market_daily": [{"date": "2026-02-14", "kospi_pct": -0.27634023422029885, "kosdaq_pct": -1.768224793503113, "sp500_pct": 0.0499089148012519, "nasdaq_pct": -0.22339307336266215, "dow_pct": 0.09898333350053046}, {"date": "2026-02-23", "kospi_pct": 2.3123833749834866, "kosdaq_pct": -0.5780910962528827, "sp500_pct": 0.6939724763506775, "nasdaq_pct": 0.8964522328127177, "dow_pct": 0.4672696535852726}, {"date": "2026-02-24", "kospi_pct": 2.113383411321269, "kosdaq_pct": 1.1293509384554707, "sp500_pct": -1.0385652247284864, "nasdaq_pct": -1.1308222762413136, "dow_pct": -1.656209796912025}, {"date": "2026-02-25", "kospi_pct": 0.0, "kosdaq_pct": 0.0, "sp500_pct": 0.7651614086322255, "nasdaq_pct": 1.0448105947935815, "dow_pct": 0.7590381147059763}, {"date": "2026-02-26", "kospi_pct": 3.6721778816500654, "kosdaq_pct": 1.9652456051544733, "sp500_pct": 0.8136355657340022, "nasdaq_pct": 1.2613909684129887, "dow_pct": 0.6256259595928784}, {"date": "2026-02-27", "kospi_pct": -0.4404407147660782, "kosdaq_pct": 0.4620620394366776, "sp500_pct": -0.5365580569328385, "nasdaq_pct": -1.1821798206745227, "dow_pct": 0.03445844974079194}], "market_flow_daily": [{"date": "2026-02-14", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-23", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-24", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-25", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-26", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-27", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}], "daily_macro": [{"date": "2026-02-14", "us10y": 4.056000232696533, "us2y": 3.5929999351501465, "spread_2_10": 0.4630002975463867, "vix": 20.600000381469727, "dxy": 96.88200378417969, "usdkrw": 1443.300048828125}, {"date": "2026-02-23", "us10y": 4.085999965667725, "us2y": 3.5950000286102295, "spread_2_10": 0.4909999370574951, "vix": 19.09000015258789, "dxy": 97.78900146484375, "usdkrw": 1444.68994140625}, {"date": "2026-02-24", "us10y": 4.0289998054504395, "us2y": 3.5880000591278076, "spread_2_10": 0.44099974632263184, "vix": 21.010000228881836, "dxy": 97.90299987792969, "usdkrw": 1445.52001953125}, {"date": "2026-02-25", "us10y": 4.0329999923706055, "us2y": 3.5880000591278076, "spread_2_10": 0.44499993324279785, "vix": 19.549999237060547, "dxy": 97.88200378417969, "usdkrw": 1441.47998046875}, {"date": "2026-02-26", "us10y": 4.047999858856201, "us2y": 3.5880000591278076, "spread_2_10": 0.45999979972839355, "vix": 17.93000030517578, "dxy": 97.62899780273438, "usdkrw": 1427.969970703125}, {"date": "2026-02-27", "us10y": 4.017000198364258, "us2y": 3.5880000591278076, "spread_2_10": 0.4290001392364502, "vix": 18.6299991607666, "dxy": 97.6449966430664, "usdkrw": 1432.9200439453125}], "monthly_macro": [{"date": "2026-02-14", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.772852363262901, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-23", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-24", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-25", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-26", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-27", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}], "quarterly_macro": [{"date": "2026-02-14", "real_gdp": 24026.834, "gdp_qoq_annualized": 4.4}, {"date": "2026-02-23", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-24", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-25", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-26", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-27", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}], "committee_history": [{"market_date": "2026-02-07", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-13", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-14", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-23", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-24", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-25", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-26", "consensus": "Committee supports risk-on positioning with disciplined risk controls.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-27", "consensus": "Committee maintains a neutral posture with selective positioning.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}], "latest_stances": {"market_date": "2026-02-27", "stances": [{"agent_name": "macro", "regime_tag": "NEUTRAL", "confidence": "MED", "korean_comment": "ê±°ì‹œëŠ” ê· í˜•ì ì´ë©° ì„ íƒì  ëŒ€ì‘ì´ ì ì ˆí•©ë‹ˆë‹¤.", "core_claims": ["Macro tone is balanced.", "No major shocks.", "Stay selective."]}, {"agent_name": "flow", "regime_tag": "NEUTRAL", "confidence": "LOW", "korean_comment": "ìˆ˜ê¸‰ ë°ì´í„°ê°€ ì—†ì–´ ì¤‘ë¦½ì„ ìœ ì§€í•©ë‹ˆë‹¤.", "core_claims": ["Flow data unavailable.", "Use neutral stance."]}, {"agent_name": "sector", "regime_tag": "RISK_OFF", "confidence": "HIGH", "korean_comment": "ì™¸êµ­ì¸ ë§¤ë„ì„¸ì™€ ëŒ€ì™¸ ë³€ìˆ˜ë¡œ ì‹œì¥ ë¶ˆí™•ì‹¤ì„±ì´ ì»¤ì¡ŒìŠµë‹ˆë‹¤.", "core_claims": ["ì½”ìŠ¤í”¼ê°€ ìµœê·¼ ê³ ì  ë…¼ë€ê³¼ ì™¸êµ­ì¸ ëŒ€ê·œëª¨ ìˆœë§¤ë„ë¡œ ì¡°ì • êµ­ë©´ì— ì§„ì…í–ˆìŠµë‹ˆë‹¤.", "ì—”ë¹„ë””ì•„ ê¸‰ë½ ë“± ëŒ€ì™¸ ì•…ì¬ê°€ íˆ¬ìì‹¬ë¦¬ ìœ„ì¶•ì— ì˜í–¥ì„ ì£¼ê³  ìˆìŠµë‹ˆë‹¤.", "ë‹¨ê¸°ì ìœ¼ë¡œ ë³€ë™ì„± í™•ëŒ€ì™€ ì¡°ì • ìœ„í—˜ì´ ë†’ì•„ì§„ ìƒí™©ì…ë‹ˆë‹¤."]}, {"agent_name": "risk", "regime_tag": "NEUTRAL", "confidence": "MED", "korean_comment": "ì‹œì¥ì— ëšœë ·í•œ ìœ„í—˜ ì‹ í˜¸ëŠ” ì•„ì§ ê°ì§€ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", "core_claims": ["ì½”ìŠ¤í”¼ê°€ ì†Œí­ í•˜ë½í–ˆìœ¼ë‚˜ ë³€ë™ì„±ì€ ì œí•œì ì…ë‹ˆë‹¤.", "ì™¸êµ­ì¸ ë§¤ë„ì„¸ê°€ ìˆì§€ë§Œ ë¦¬ë°¸ëŸ°ì‹± ì„±ê²©ì´ ê°•í•©ë‹ˆë‹¤.", "ì‹œì¥ ì „ë°˜ì— ê·¹ë‹¨ì  ìœ„í—˜ ì‹ í˜¸ëŠ” ì—†ìŠµë‹ˆë‹¤."]}, {"agent_name": "earnings", "regime_tag": "NEUTRAL", "confidence": "MED", "korean_comment": "ì‹¤ì  ì¶”ì •ì¹˜ ë³€í™”ëŠ” ì•„ì§ ëšœë ·í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", "core_claims": ["ì‹¤ì  ëª¨ë©˜í…€ ë‘”í™” ì‹ í˜¸ê°€ ëšœë ·í•˜ì§€ ì•ŠìŒ", "ì™¸êµ­ì¸ ë§¤ë„ì„¸ëŠ” ì¼ì‹œì  ë¦¬ë°¸ëŸ°ì‹± ê°€ëŠ¥ì„±", "ì§€ì†ì  ì‹¤ì  í•˜í–¥ ì¡°ì • ì‹ í˜¸ëŠ” ë¶€ì¡±"]}, {"agent_name": "breadth", "regime_tag": "NEUTRAL", "confidence": "LOW", "korean_comment": "ë¸Œë ˆë“œìŠ¤ ì‹ í˜¸ê°€ í˜¼ì¬ë˜ì–´ ì¤‘ë¦½ ëŒ€ì‘ì´ í•©ë¦¬ì ì…ë‹ˆë‹¤.", "core_claims": ["ì¶”ì„¸ í™•ì‚°ê³¼ ì—­ì¶”ì„¸ ì‹ í˜¸ê°€ ê³µì¡´í•©ë‹ˆë‹¤.", "ê¸°ìˆ ì  ìš°ìœ„ê°€ ëª…í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", "ë°©í–¥ í™•ì • ì „ê¹Œì§€ ê· í˜• ë¹„ì¤‘ì´ ì ì ˆí•©ë‹ˆë‹¤."]}, {"agent_name": "liquidity", "regime_tag": "RISK_OFF", "confidence": "HIGH", "korean_comment": "ìœ ë™ì„± ë° ì •ì±… í™˜ê²½ì´ ìœ„í—˜íšŒí”¼ë¡œ ê¸°ìš¸ê³  ìˆìŠµë‹ˆë‹¤.", "core_claims": ["ë‹¬ëŸ¬/ì› í™˜ìœ¨ì´ ê³ ì •ë˜ì–´ ìˆìœ¼ë‚˜ ì™¸êµ­ì¸ ëŒ€ê·œëª¨ ìˆœë§¤ë„ì™€ ë³€ë™ì„± ìƒìŠ¹ì´ í™•ì¸ë¨.", "VIXê°€ 18 ì´ìƒìœ¼ë¡œ ìƒìŠ¹í•˜ë©° ìœ„í—˜íšŒí”¼ ì‹¬ë¦¬ê°€ ê°•í™”ë˜ê³  ìˆìŒ.", "ì •ì±…ê¸ˆë¦¬ì™€ ì‹¤ì§ˆê¸ˆë¦¬ ëª¨ë‘ ë†’ì•„ ìœ ë™ì„± í™˜ê²½ì´ ë³´ìˆ˜ì ì„."]}]}};

function latest(rows, key) {
  if (!rows.length) return '-';
  const value = rows[rows.length - 1][key];
  return value ?? '-';
}

const cards = [
  { label: 'ìµœê·¼ KOSPI(%)', value: latest(data.market_daily, 'kospi_pct') },
  { label: 'ìµœê·¼ NASDAQ(%)', value: latest(data.market_daily, 'nasdaq_pct') },
  { label: 'ìµœê·¼ VIX', value: latest(data.daily_macro, 'vix') },
  { label: 'ìµœê·¼ USD/KRW', value: latest(data.daily_macro, 'usdkrw') },
  { label: 'ëˆ„ì  íšŒì˜ì¼', value: data.committee_history.length },
];

const cardWrap = document.getElementById('summary-cards');
cardWrap.innerHTML = cards.map(c => `<div class="card"><div class="label">${c.label}</div><div class="value">${c.value}</div></div>`).join('');

const marketLabels = data.market_daily.map(r => r.date);
new Chart(document.getElementById('marketChart'), {
  type: 'line',
  data: { labels: marketLabels, datasets: [
    { label:'KOSPI', data:data.market_daily.map(r=>r.kospi_pct), borderColor:'#22d3ee' },
    { label:'KOSDAQ', data:data.market_daily.map(r=>r.kosdaq_pct), borderColor:'#f97316' },
    { label:'S&P500', data:data.market_daily.map(r=>r.sp500_pct), borderColor:'#a3e635' },
  ]},
});

new Chart(document.getElementById('macroChart'), {
  type:'line',
  data: { labels:data.daily_macro.map(r=>r.date), datasets:[
    { label:'VIX', data:data.daily_macro.map(r=>r.vix), borderColor:'#f43f5e', yAxisID:'y' },
    { label:'USD/KRW', data:data.daily_macro.map(r=>r.usdkrw), borderColor:'#38bdf8', yAxisID:'y1' }
  ]},
  options: { scales: { y: { position:'left' }, y1: { position:'right', grid: { drawOnChartArea:false } } } }
});

new Chart(document.getElementById('flowChart'), {
  type:'bar',
  data: { labels:data.market_flow_daily.map(r=>r.date), datasets:[
    { label:'Foreign Net', data:data.market_flow_daily.map(r=>r.foreign_net), backgroundColor:'#c084fc' }
  ]}
});

new Chart(document.getElementById('guidanceChart'), {
  type:'bar',
  data: { labels:data.committee_history.map(r=>r.market_date), datasets:[
    { label:'OK', data:data.committee_history.map(r=>r.ok_count), backgroundColor:'#22c55e' },
    { label:'CAUTION', data:data.committee_history.map(r=>r.caution_count), backgroundColor:'#f59e0b' },
    { label:'AVOID', data:data.committee_history.map(r=>r.avoid_count), backgroundColor:'#ef4444' },
  ]},
  options: { responsive:true, scales: { x: { stacked:true }, y: { stacked:true } } }
});

const table = document.getElementById('committeeTable');
table.innerHTML = data.committee_history.slice().reverse().map(r => `
  <tr>
    <td>${r.market_date}</td>
    <td>${r.consensus}</td>
    <td>${r.ok_count}</td>
    <td>${r.caution_count}</td>
    <td>${r.avoid_count}</td>
  </tr>
`).join('');

const stanceDate = document.getElementById('stanceDate');
const stanceTable = document.getElementById('stanceTable');
stanceDate.textContent = data.latest_stances.market_date ? `(${data.latest_stances.market_date})` : '';
stanceTable.innerHTML = (data.latest_stances.stances || []).map(s => `
  <tr>
    <td>${s.agent_name}</td>
    <td>${s.regime_tag}</td>
    <td>${s.confidence}</td>
    <td>${s.korean_comment || '-'}</td>
    <td><ul>${(s.core_claims || []).map(claim => `<li>${claim}</li>`).join('')}</ul></td>
  </tr>
`).join('');
</script>
</body>
</html>
