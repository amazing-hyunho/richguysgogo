<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI íˆ¬ììœ„ì›íšŒ ë°ì´í„° ëŒ€ì‹œë³´ë“œ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; margin: 0; background:#0f172a; color:#e2e8f0; }
    .container { max-width: 1200px; margin: 0 auto; padding: 24px; }
    h1 { margin: 0 0 20px 0; }
    .cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-bottom:20px; }
    .card { background:#1e293b; border-radius:12px; padding:14px; }
    .card .label { font-size:12px; color:#94a3b8; }
    .card .value { margin-top:6px; font-size:24px; font-weight:700; }
    .chart-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .panel { background:#1e293b; border-radius:12px; padding:14px; }
    .panel h2 { margin-top:0; font-size:16px; }
    table { width:100%; border-collapse:collapse; font-size:13px; }
    th, td { border-bottom:1px solid #334155; padding:8px 6px; text-align:left; }
    .full { margin-top:16px; }
    @media (max-width: 900px) { .chart-grid { grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“Š AI íˆ¬ììœ„ì›íšŒ ëˆ„ì  ë°ì´í„° ëŒ€ì‹œë³´ë“œ</h1>
    <div class="cards" id="summary-cards"></div>

    <div class="chart-grid">
      <div class="panel">
        <h2>ì£¼ìš” ì§€ìˆ˜ ì¼ê°„ ë³€í™”ìœ¨ (%)</h2>
        <canvas id="marketChart"></canvas>
      </div>
      <div class="panel">
        <h2>ê±°ì‹œ ì§€í‘œ (VIX / USDKRW)</h2>
        <canvas id="macroChart"></canvas>
      </div>
      <div class="panel">
        <h2>ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ì¶”ì´</h2>
        <canvas id="flowChart"></canvas>
      </div>
      <div class="panel">
        <h2>ìœ„ì›íšŒ ìš´ì˜ ê°€ì´ë˜ìŠ¤ íšŸìˆ˜</h2>
        <canvas id="guidanceChart"></canvas>
      </div>
    </div>

    <div class="panel full">
      <h2>ìµœê·¼ íšŒì˜ í•©ì˜ ë‚´ì—­</h2>
      <table>
        <thead><tr><th>ë‚ ì§œ</th><th>Consensus</th><th>OK</th><th>CAUTION</th><th>AVOID</th></tr></thead>
        <tbody id="committeeTable"></tbody>
      </table>
    </div>
  </div>

<script>
const data = {"market_daily": [{"date": "2026-02-14", "kospi_pct": -0.27634023422029885, "kosdaq_pct": -1.768224793503113, "sp500_pct": 0.0499089148012519, "nasdaq_pct": -0.22339307336266215, "dow_pct": 0.09898333350053046}, {"date": "2026-02-23", "kospi_pct": 2.3123833749834866, "kosdaq_pct": -0.5780910962528827, "sp500_pct": 0.6939724763506775, "nasdaq_pct": 0.8964522328127177, "dow_pct": 0.4672696535852726}, {"date": "2026-02-24", "kospi_pct": 2.113383411321269, "kosdaq_pct": 1.1293509384554707, "sp500_pct": -1.0385652247284864, "nasdaq_pct": -1.1308222762413136, "dow_pct": -1.656209796912025}, {"date": "2026-02-25", "kospi_pct": 0.0, "kosdaq_pct": 0.0, "sp500_pct": 0.7651614086322255, "nasdaq_pct": 1.0448105947935815, "dow_pct": 0.7590381147059763}, {"date": "2026-02-26", "kospi_pct": 3.6721778816500654, "kosdaq_pct": 1.9652456051544733, "sp500_pct": 0.8136355657340022, "nasdaq_pct": 1.2613909684129887, "dow_pct": 0.6256259595928784}], "market_flow_daily": [{"date": "2026-02-14", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-23", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-24", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-25", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}, {"date": "2026-02-26", "foreign_net": null, "foreign_20d": null, "foreign_60d": null}], "daily_macro": [{"date": "2026-02-14", "us10y": 4.056000232696533, "us2y": 3.5929999351501465, "spread_2_10": 0.4630002975463867, "vix": 20.600000381469727, "dxy": 96.88200378417969, "usdkrw": 1443.300048828125}, {"date": "2026-02-23", "us10y": 4.085999965667725, "us2y": 3.5950000286102295, "spread_2_10": 0.4909999370574951, "vix": 19.09000015258789, "dxy": 97.78900146484375, "usdkrw": 1444.68994140625}, {"date": "2026-02-24", "us10y": 4.0289998054504395, "us2y": 3.5880000591278076, "spread_2_10": 0.44099974632263184, "vix": 21.010000228881836, "dxy": 97.90299987792969, "usdkrw": 1445.52001953125}, {"date": "2026-02-25", "us10y": 4.0329999923706055, "us2y": 3.5880000591278076, "spread_2_10": 0.44499993324279785, "vix": 19.549999237060547, "dxy": 97.88200378417969, "usdkrw": 1441.47998046875}, {"date": "2026-02-26", "us10y": 4.047999858856201, "us2y": 3.5880000591278076, "spread_2_10": 0.45999979972839355, "vix": 17.93000030517578, "dxy": 97.62899780273438, "usdkrw": 1427.969970703125}], "monthly_macro": [{"date": "2026-02-14", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.772852363262901, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-23", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-24", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-25", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}, {"date": "2026-02-26", "unemployment_rate": 4.3, "cpi_yoy": 2.8286797395498997, "core_cpi_yoy": 2.9493378374616075, "pce_yoy": 2.901287416285925, "pmi": null, "wage_yoy": 3.7109375}], "quarterly_macro": [{"date": "2026-02-14", "real_gdp": 24026.834, "gdp_qoq_annualized": 4.4}, {"date": "2026-02-23", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-24", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-25", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}, {"date": "2026-02-26", "real_gdp": 24111.83, "gdp_qoq_annualized": 1.4}], "committee_history": [{"market_date": "2026-02-07", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-13", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-14", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-23", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-24", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-25", "consensus": "Committee agrees on a neutral stance with selective monitoring.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}, {"market_date": "2026-02-26", "consensus": "Committee supports risk-on positioning with disciplined risk controls.", "ok_count": 1, "caution_count": 1, "avoid_count": 1}]};

function latest(rows, key) {
  if (!rows.length) return '-';
  const value = rows[rows.length - 1][key];
  return value ?? '-';
}

const cards = [
  { label: 'ìµœê·¼ KOSPI(%)', value: latest(data.market_daily, 'kospi_pct') },
  { label: 'ìµœê·¼ NASDAQ(%)', value: latest(data.market_daily, 'nasdaq_pct') },
  { label: 'ìµœê·¼ VIX', value: latest(data.daily_macro, 'vix') },
  { label: 'ìµœê·¼ USD/KRW', value: latest(data.daily_macro, 'usdkrw') },
  { label: 'ëˆ„ì  íšŒì˜ì¼', value: data.committee_history.length },
];

const cardWrap = document.getElementById('summary-cards');
cardWrap.innerHTML = cards.map(c => `<div class="card"><div class="label">${c.label}</div><div class="value">${c.value}</div></div>`).join('');

const marketLabels = data.market_daily.map(r => r.date);
new Chart(document.getElementById('marketChart'), {
  type: 'line',
  data: { labels: marketLabels, datasets: [
    { label:'KOSPI', data:data.market_daily.map(r=>r.kospi_pct), borderColor:'#22d3ee' },
    { label:'KOSDAQ', data:data.market_daily.map(r=>r.kosdaq_pct), borderColor:'#f97316' },
    { label:'S&P500', data:data.market_daily.map(r=>r.sp500_pct), borderColor:'#a3e635' },
  ]},
});

new Chart(document.getElementById('macroChart'), {
  type:'line',
  data: { labels:data.daily_macro.map(r=>r.date), datasets:[
    { label:'VIX', data:data.daily_macro.map(r=>r.vix), borderColor:'#f43f5e', yAxisID:'y' },
    { label:'USD/KRW', data:data.daily_macro.map(r=>r.usdkrw), borderColor:'#38bdf8', yAxisID:'y1' }
  ]},
  options: { scales: { y: { position:'left' }, y1: { position:'right', grid: { drawOnChartArea:false } } } }
});

new Chart(document.getElementById('flowChart'), {
  type:'bar',
  data: { labels:data.market_flow_daily.map(r=>r.date), datasets:[
    { label:'Foreign Net', data:data.market_flow_daily.map(r=>r.foreign_net), backgroundColor:'#c084fc' }
  ]}
});

new Chart(document.getElementById('guidanceChart'), {
  type:'bar',
  data: { labels:data.committee_history.map(r=>r.market_date), datasets:[
    { label:'OK', data:data.committee_history.map(r=>r.ok_count), backgroundColor:'#22c55e' },
    { label:'CAUTION', data:data.committee_history.map(r=>r.caution_count), backgroundColor:'#f59e0b' },
    { label:'AVOID', data:data.committee_history.map(r=>r.avoid_count), backgroundColor:'#ef4444' },
  ]},
  options: { responsive:true, scales: { x: { stacked:true }, y: { stacked:true } } }
});

const table = document.getElementById('committeeTable');
table.innerHTML = data.committee_history.slice().reverse().map(r => `
  <tr>
    <td>${r.market_date}</td>
    <td>${r.consensus}</td>
    <td>${r.ok_count}</td>
    <td>${r.caution_count}</td>
    <td>${r.avoid_count}</td>
  </tr>
`).join('');
</script>
</body>
</html>
